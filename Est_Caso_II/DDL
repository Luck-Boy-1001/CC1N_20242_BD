#CRIANDO O BANCO DE DADOS
CREATE SCHEMA IF NOT EXISTS PASSAGENS_AEREAS;

USE Passagens_Aereas;

#CRIANDO A TABELA PASSAGEIROS
CREATE TABLE IF NOT EXISTS PASSAGEIROS(
    PASS_CPF VARCHAR(45) PRIMARY KEY,
    PASS_NOME VARCHAR(45) NOT NULL,
    PASS_TELEFONE VARCHAR(15),
    PASS_RUA VARCHAR(45),
    PASS_NUMRUA INT,
    PASS_BAIRRO VARCHAR(45) NOT NULL,
    PASS_CIDADE VARCHAR(45) NOT NULL,
    PASS_ESTADO VARCHAR(45) NOT NULL,
    PASS_PAIS VARCHAR(30) NOT NULL,
    PASS_CODPOSTAL VARCHAR(10) NOT NULL,
    PASS_CONTATO TEXT NOT NULL,
    PASS_EMAIL VARCHAR(11) NOT NULL
);

#CRIANDO A TABELA VOOS
CREATE TABLE IF NOT EXISTS VOOS(
    VOO_ID INT AUTO_INCREMENT PRIMARY KEY,
    VOO_DATA DATE NOT NULL,
    VOO_HORA TIME NOT NULL
);

#CRIANDO A TABELA AEROPORTOS
CREATE TABLE IF NOT EXISTS AEROPORTOS(
    AERO_COD INT AUTO_INCREMENT PRIMARY KEY,
    AERO_NOME VARCHAR(50) NOT NULL,
    AERO_CIDADE VARCHAR(50) NOT NULL,
    AERO_PAIS VARCHAR(50) NOT NULL,
    aero_latitude DECIMAL(10,6),
    aero_longitude DECIMAL(10,6)
);

#CRIANDO A TABELA AERONAVES
CREATE TABLE IF NOT EXISTS Aeronaves (
aeron_prefixo CHAR(10) PRIMARY KEY,
aeron_modelo VARCHAR(100),
aeron_fabricante VARCHAR(100),
aeron_anofabr YEAR,
aeron_capacidade INT,
aeron_autonomia INT
);

#CRIANDO A TABELA Funcionarios
CREATE TABLE IF NOT EXISTS Funcionarios (
func_id INT PRIMARY KEY,
func_nome VARCHAR(100),
func_datanasc DATE,
func_endereco TEXT,
func_cpf CHAR(11),
func_funcao VARCHAR(100)
);

#CRIANDO A TABELA Equipes
CREATE TABLE IF NOT EXISTS Equipes (
func_id INT,
voo_id INT,
PRIMARY KEY (func_id, voo_id),
FOREIGN KEY (func_id) REFERENCES Funcionarios(func_id),
FOREIGN KEY (voo_id) REFERENCES Voos(voo_id)
);

#CRIANDO A TABELA Reservas
CREATE TABLE IF NOT EXISTS Reservas (
reserva_cod INT PRIMARY KEY,
pass_cpf CHAR(11),
voo_id INT, 
FOREIGN KEY (pass_cpf) REFERENCES Passageiros(pass_cpf),
FOREIGN KEY (voo_id) REFERENCES Voos(voo_id)
);